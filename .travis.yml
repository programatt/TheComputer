language: python
cache:
  directories:
  - "$HOME/.cache/pip"
  - "$HOME/.pyenv"
matrix:
  include:
  - os: linux
    dist: trusty
    sudo: false
    python: '2.6'
  - os: linux
    dist: trusty
    sudo: false
    python: '2.7'
  - os: linux
    dist: trusty
    sudo: false
    python: '3.3'
  - os: linux
    dist: trusty
    sudo: false
    python: '3.4'
  - os: linux
    dist: trusty
    sudo: false
    python: '3.5'
  - os: linux
    dist: trusty
    sudo: false
    python: '3.6'
  - os: linux
    dist: xenial
    sudo: required
    python: '3.7'
  #- os: linux
  #  sudo: false
  #  python: pypy
  #- os: linux
  #  sudo: false
  #  python: pypy3
  #- os: osx
  #  language: objective-c
  #  env: PYENV_VERSION=2.7.12
  #- os: osx
  #  language: objective-c
  #  env: PYENV_VERSION=3.5.5
  #- os: osx
  #  language: objective-c
  #  env: PYENV_VERSION=3.6.5

# command to install dependencies
install:
  - pip install -r requirements.txt
# command to run tests
script:
  - make coverage-xml
after_success:
  - codecov